(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dd462460"],{"19a9":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("SwitchRoles",{on:{change:e.handleRoleChage}}),i("div",[i("div",{staticClass:"directive-tags"},[i("div",{directives:[{name:"permission",rawName:"v-permission",value:["admin"],expression:"['admin']"}],staticClass:"tags-wrapper"},[i("el-tag",{attrs:{type:"success"}},[e._v(" Only "),i("el-tag",{staticClass:"role-tag"},[e._v(" admin ")]),e._v(" can see this ")],1),i("el-tag",{attrs:{type:"info"}},[e._v(" v-permission=\"['admin']\" ")])],1),i("div",{directives:[{name:"permission",rawName:"v-permission",value:["editor"],expression:"['editor']"}],staticClass:"tags-wrapper"},[i("el-tag",{attrs:{type:"success"}},[e._v(" Only "),i("el-tag",{staticClass:"role-tag"},[e._v(" editor ")]),e._v(" can see this ")],1),i("el-tag",{attrs:{type:"info"}},[e._v(" v-permission=\"['editor']\" ")])],1),i("div",{directives:[{name:"permission",rawName:"v-permission",value:["admin","editor"],expression:"['admin','editor']"}],staticClass:"tags-wrapper"},[i("el-tag",{attrs:{type:"success"}},[e._v(" Both "),i("el-tag",{staticClass:"role-tag"},[e._v(" admin ")]),e._v(" and "),i("el-tag",{staticClass:"role-tag"},[e._v(" editor ")]),e._v(" can see this ")],1),i("el-tag",{attrs:{type:"info"}},[e._v(" v-permission=\"['admin','editor']\" ")])],1)]),e._m(0),i("div",{staticClass:"function-tags"},[i("el-tabs",{attrs:{type:"border-card"}},[e.checkPermission(["editor"])?i("el-tab-pane",{attrs:{label:"Editor"}},[e._v(" Editor can see this "),i("el-tag",{attrs:{type:"info"}},[e._v(" v-if=\"checkPermission(['editor'])\" ")])],1):e._e(),e.checkPermission(["admin"])?i("el-tab-pane",{attrs:{label:"Admin"}},[e._v(" Admin can see this "),i("el-tag",{attrs:{type:"info"}},[e._v(" v-if=\"checkPermission(['admin'])\" ")])],1):e._e(),e.checkPermission(["editor","admin"])?i("el-tab-pane",{attrs:{label:"Admin-OR-Editor"}},[e._v(" Both admin or editor can see this "),i("el-tag",{attrs:{type:"info"}},[e._v(" v-if=\"checkPermission(['admin','editor'])\" ")])],1):e._e()],1)],1)])],1)},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("aside",[i("div",[e._v(" In some cases, using v-permission will have no effect. For example: Element-UI's Tab component or el-table-column and other scenes that dynamically render dom. You can only do this with v-if. ")]),e._v(" e.g. ")])}],n=(i("caad"),i("2532"),i("4360")),r=function(e){var t=n["a"].getters.roles;if("string"===typeof e&&(e=[e]),Array.isArray(e))return t.some((function(t){return e.includes(t)}));throw new Error("the data type of v-permission is invalid")};function o(e,t){var i,s=t.value,a=r(s);a||(null===(i=e.parentNode)||void 0===i||i.removeChild(e))}var c={inserted:function(e,t){o(e,t)},update:function(e,t){o(e,t)}},l=i("bef0"),d={name:"DirectivePermission",directives:{permission:c},components:{SwitchRoles:l["a"]},data:function(){return{key:1}},methods:{checkPermission:r,handleRoleChage:function(){this.key++}}},v=d,m=(i("d17e"),i("2877")),u=Object(m["a"])(v,s,a,!1,null,"3df09a40",null);t["default"]=u.exports},"1b58":function(e,t,i){"use strict";i("46fb")},2582:function(e,t,i){},"46fb":function(e,t,i){},bef0:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("p",[e._v("Your roles:"+e._s(e.roles))]),e._v(" Switch roles: "),i("el-radio-group",{model:{value:e.switchRoles,callback:function(t){e.switchRoles=t},expression:"switchRoles"}},[i("el-radio-button",{attrs:{label:"editor"}}),i("el-radio-button",{attrs:{label:"admin"}})],1)],1)},a=[],n=i("1da1"),r=i("5530"),o=(i("96cf"),i("2f62")),c={name:"SwitchRoles",inject:["reload"],computed:Object(r["a"])(Object(r["a"])({},Object(o["c"])(["roles"])),{},{switchRoles:{get:function(){return this.roles[0]},set:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$store.dispatch("user/changeRoles",e);case 2:t.$emit("change"),t.reload();case 4:case"end":return i.stop()}}),i)})))()}}})},l=c,d=(i("1b58"),i("2877")),v=Object(d["a"])(l,s,a,!1,null,"30c1d5f2",null);t["a"]=v.exports},d17e:function(e,t,i){"use strict";i("2582")}}]);